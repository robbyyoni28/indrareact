{"version":3,"names":["width","maxW","Dimensions","get","Tab","createBottomTabNavigator","BottomBarComponent","React","forwardRef","props","ref","SVG","Svg","PATH","Path","type","style","height","circleWidth","bgColor","initialRouteName","tabBar","renderCircle","borderTopLeftRight","strokeWidth","itemLeft","setItemLeft","useState","itemRight","setItemRight","maxWidth","setMaxWidth","children","orientation","useDeviceOrientation","useImperativeHandle","useEffect","w","_renderButtonCenter","navigate","getTab","filter","e","position","name","selectedTab","selectTab","arrLeft","item","arrRight","d","getPath","getPathUp","renderItem","color","routeName","styles","itemTab","MyTabBar","state","navigation","focusedTab","routes","index","container","main","top30","rowLeft","map","undefined","flex1","toString","merge","rowRight"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable no-shadow */\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport React, { useEffect, useImperativeHandle, useState } from 'react';\nimport { Dimensions, Text, View, TouchableOpacity } from 'react-native';\nimport Svg, { Path } from 'react-native-svg';\nimport { useDeviceOrientation } from '../../../useDeviceOrientation';\nimport type { NavigatorBottomBarProps } from './model';\nimport { getPath, getPathUp } from './path';\nimport { styles } from './styles';\nconst { width: maxW } = Dimensions.get('window');\n\nconst Tab = createBottomTabNavigator();\n\nconst BottomBarComponent = React.forwardRef<any, NavigatorBottomBarProps>(\n  (props, ref) => {\n    const SVG: any = Svg;\n    const PATH: any = Path;\n    const {\n      type = 'DOWN',\n      style,\n      width = null,\n      height = 65,\n      circleWidth = 50,\n      bgColor = 'gray',\n      initialRouteName,\n      tabBar,\n      renderCircle,\n      borderTopLeftRight = false,\n      strokeWidth = 0,\n    } = props;\n\n    const [itemLeft, setItemLeft] = useState<any[]>([]);\n    const [itemRight, setItemRight] = useState<any[]>([]);\n    const [maxWidth, setMaxWidth] = useState<number>(width || maxW);\n    const children = props?.children as any[];\n    const orientation = useDeviceOrientation();\n\n    useImperativeHandle(ref, () => {\n      return {};\n    });\n\n    useEffect(() => {\n      const { width: w } = Dimensions.get('window');\n      if (!width) {\n        setMaxWidth(w);\n      }\n    }, [orientation, width]);\n\n    const _renderButtonCenter = (navigate: any) => {\n      const getTab = children.filter(\n        (e: any) => e?.props?.position === 'CENTER'\n      )[0]?.props?.name;\n\n      return renderCircle({\n        selectedTab: getTab,\n        navigate: (selectTab: string) => {\n          if (selectTab) {\n            navigate(selectTab);\n          }\n        },\n      });\n    };\n\n    useEffect(() => {\n      const arrLeft: any = children.filter(\n        (item) => item?.props?.position === 'LEFT'\n      );\n      const arrRight: any = children.filter(\n        (item) => item?.props?.position === 'RIGHT'\n      );\n\n      setItemLeft(arrLeft);\n      setItemRight(arrRight);\n    }, [children, initialRouteName]);\n\n    const d =\n      type === 'DOWN'\n        ? getPath(\n            maxWidth,\n            height,\n            circleWidth >= 50 ? circleWidth : 50,\n            borderTopLeftRight\n          )\n        : getPathUp(\n            maxWidth,\n            height + 30,\n            circleWidth >= 50 ? circleWidth : 50,\n            borderTopLeftRight\n          );\n\n    const renderItem = ({ color, routeName, navigate }: any) => {\n      return (\n        <TouchableOpacity\n          key={routeName}\n          style={styles.itemTab}\n          onPress={() => navigate(routeName)}\n        >\n          <Text style={{ color: color }}>{routeName}</Text>\n        </TouchableOpacity>\n      );\n    };\n\n    const MyTabBar = (props: any) => {\n      const { state, navigation } = props;\n      const focusedTab = state?.routes[state.index].name;\n      return (\n        <View>\n          <View style={[styles.container, style]}>\n            <SVG width={maxWidth} height={height + (type === 'DOWN' ? 0 : 30)}>\n              <PATH\n                fill={bgColor}\n                stroke=\"#DDDDDD\"\n                strokeWidth={strokeWidth}\n                {...{ d }}\n              />\n            </SVG>\n            <View\n              style={[\n                styles.main,\n                { width: maxWidth },\n                type === 'UP' && styles.top30,\n              ]}\n            >\n              <View style={[styles.rowLeft, { height: height }]}>\n                {itemLeft.map((item: any, index) => {\n                  const routeName: string = item?.props?.name;\n\n                  if (tabBar === undefined) {\n                    return renderItem({\n                      routeName,\n                      color: focusedTab === routeName ? 'blue' : 'gray',\n                      navigate: navigation.navigate,\n                    });\n                  }\n\n                  return (\n                    <View style={styles.flex1} key={index.toString()}>\n                      {tabBar({\n                        routeName,\n                        selectedTab: focusedTab,\n                        navigate: (selectTab: string) => {\n                          if (selectTab !== focusedTab) {\n                            navigation.navigate({\n                              name: routeName,\n                              merge: true,\n                            });\n                          }\n                        },\n                      })}\n                    </View>\n                  );\n                })}\n              </View>\n              {_renderButtonCenter(navigation.navigate)}\n              <View style={[styles.rowRight, { height: height }]}>\n                {itemRight.map((item: any, index) => {\n                  const routeName = item?.props?.name;\n\n                  if (tabBar === undefined) {\n                    return renderItem({\n                      routeName,\n                      color: focusedTab === routeName ? 'blue' : 'gray',\n                      navigate: navigation.navigate,\n                    });\n                  }\n\n                  return (\n                    <View style={styles.flex1} key={index.toString()}>\n                      {tabBar({\n                        routeName,\n                        selectedTab: focusedTab,\n                        navigate: (selectTab: string) => {\n                          if (selectTab !== focusedTab) {\n                            navigation.navigate({\n                              name: routeName,\n                              merge: true,\n                            });\n                          }\n                        },\n                      })}\n                    </View>\n                  );\n                })}\n              </View>\n            </View>\n          </View>\n        </View>\n      );\n    };\n\n    return (\n      <Tab.Navigator {...props} tabBar={MyTabBar}>\n        {children?.map((e: any, index: number) => {\n          return <Tab.Screen key={index.toString()} {...e.props} />;\n        })}\n      </Tab.Navigator>\n    );\n  }\n);\n\nexport default BottomBarComponent;\n"],"mappings":"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"}