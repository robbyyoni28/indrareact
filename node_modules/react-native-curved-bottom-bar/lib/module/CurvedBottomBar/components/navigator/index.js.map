{"version":3,"names":["createBottomTabNavigator","React","useEffect","useImperativeHandle","useState","Dimensions","Text","View","TouchableOpacity","Svg","Path","useDeviceOrientation","getPath","getPathUp","styles","width","maxW","get","Tab","BottomBarComponent","forwardRef","props","ref","SVG","PATH","type","style","height","circleWidth","bgColor","initialRouteName","tabBar","renderCircle","borderTopLeftRight","strokeWidth","itemLeft","setItemLeft","itemRight","setItemRight","maxWidth","setMaxWidth","children","orientation","w","_renderButtonCenter","navigate","getTab","filter","e","position","name","selectedTab","selectTab","arrLeft","item","arrRight","d","renderItem","color","routeName","itemTab","MyTabBar","state","navigation","focusedTab","routes","index","container","main","top30","rowLeft","map","undefined","flex1","toString","merge","rowRight"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable no-shadow */\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport React, { useEffect, useImperativeHandle, useState } from 'react';\nimport { Dimensions, Text, View, TouchableOpacity } from 'react-native';\nimport Svg, { Path } from 'react-native-svg';\nimport { useDeviceOrientation } from '../../../useDeviceOrientation';\nimport type { NavigatorBottomBarProps } from './model';\nimport { getPath, getPathUp } from './path';\nimport { styles } from './styles';\nconst { width: maxW } = Dimensions.get('window');\n\nconst Tab = createBottomTabNavigator();\n\nconst BottomBarComponent = React.forwardRef<any, NavigatorBottomBarProps>(\n  (props, ref) => {\n    const SVG: any = Svg;\n    const PATH: any = Path;\n    const {\n      type = 'DOWN',\n      style,\n      width = null,\n      height = 65,\n      circleWidth = 50,\n      bgColor = 'gray',\n      initialRouteName,\n      tabBar,\n      renderCircle,\n      borderTopLeftRight = false,\n      strokeWidth = 0,\n    } = props;\n\n    const [itemLeft, setItemLeft] = useState<any[]>([]);\n    const [itemRight, setItemRight] = useState<any[]>([]);\n    const [maxWidth, setMaxWidth] = useState<number>(width || maxW);\n    const children = props?.children as any[];\n    const orientation = useDeviceOrientation();\n\n    useImperativeHandle(ref, () => {\n      return {};\n    });\n\n    useEffect(() => {\n      const { width: w } = Dimensions.get('window');\n      if (!width) {\n        setMaxWidth(w);\n      }\n    }, [orientation, width]);\n\n    const _renderButtonCenter = (navigate: any) => {\n      const getTab = children.filter(\n        (e: any) => e?.props?.position === 'CENTER'\n      )[0]?.props?.name;\n\n      return renderCircle({\n        selectedTab: getTab,\n        navigate: (selectTab: string) => {\n          if (selectTab) {\n            navigate(selectTab);\n          }\n        },\n      });\n    };\n\n    useEffect(() => {\n      const arrLeft: any = children.filter(\n        (item) => item?.props?.position === 'LEFT'\n      );\n      const arrRight: any = children.filter(\n        (item) => item?.props?.position === 'RIGHT'\n      );\n\n      setItemLeft(arrLeft);\n      setItemRight(arrRight);\n    }, [children, initialRouteName]);\n\n    const d =\n      type === 'DOWN'\n        ? getPath(\n            maxWidth,\n            height,\n            circleWidth >= 50 ? circleWidth : 50,\n            borderTopLeftRight\n          )\n        : getPathUp(\n            maxWidth,\n            height + 30,\n            circleWidth >= 50 ? circleWidth : 50,\n            borderTopLeftRight\n          );\n\n    const renderItem = ({ color, routeName, navigate }: any) => {\n      return (\n        <TouchableOpacity\n          key={routeName}\n          style={styles.itemTab}\n          onPress={() => navigate(routeName)}\n        >\n          <Text style={{ color: color }}>{routeName}</Text>\n        </TouchableOpacity>\n      );\n    };\n\n    const MyTabBar = (props: any) => {\n      const { state, navigation } = props;\n      const focusedTab = state?.routes[state.index].name;\n      return (\n        <View>\n          <View style={[styles.container, style]}>\n            <SVG width={maxWidth} height={height + (type === 'DOWN' ? 0 : 30)}>\n              <PATH\n                fill={bgColor}\n                stroke=\"#DDDDDD\"\n                strokeWidth={strokeWidth}\n                {...{ d }}\n              />\n            </SVG>\n            <View\n              style={[\n                styles.main,\n                { width: maxWidth },\n                type === 'UP' && styles.top30,\n              ]}\n            >\n              <View style={[styles.rowLeft, { height: height }]}>\n                {itemLeft.map((item: any, index) => {\n                  const routeName: string = item?.props?.name;\n\n                  if (tabBar === undefined) {\n                    return renderItem({\n                      routeName,\n                      color: focusedTab === routeName ? 'blue' : 'gray',\n                      navigate: navigation.navigate,\n                    });\n                  }\n\n                  return (\n                    <View style={styles.flex1} key={index.toString()}>\n                      {tabBar({\n                        routeName,\n                        selectedTab: focusedTab,\n                        navigate: (selectTab: string) => {\n                          if (selectTab !== focusedTab) {\n                            navigation.navigate({\n                              name: routeName,\n                              merge: true,\n                            });\n                          }\n                        },\n                      })}\n                    </View>\n                  );\n                })}\n              </View>\n              {_renderButtonCenter(navigation.navigate)}\n              <View style={[styles.rowRight, { height: height }]}>\n                {itemRight.map((item: any, index) => {\n                  const routeName = item?.props?.name;\n\n                  if (tabBar === undefined) {\n                    return renderItem({\n                      routeName,\n                      color: focusedTab === routeName ? 'blue' : 'gray',\n                      navigate: navigation.navigate,\n                    });\n                  }\n\n                  return (\n                    <View style={styles.flex1} key={index.toString()}>\n                      {tabBar({\n                        routeName,\n                        selectedTab: focusedTab,\n                        navigate: (selectTab: string) => {\n                          if (selectTab !== focusedTab) {\n                            navigation.navigate({\n                              name: routeName,\n                              merge: true,\n                            });\n                          }\n                        },\n                      })}\n                    </View>\n                  );\n                })}\n              </View>\n            </View>\n          </View>\n        </View>\n      );\n    };\n\n    return (\n      <Tab.Navigator {...props} tabBar={MyTabBar}>\n        {children?.map((e: any, index: number) => {\n          return <Tab.Screen key={index.toString()} {...e.props} />;\n        })}\n      </Tab.Navigator>\n    );\n  }\n);\n\nexport default BottomBarComponent;\n"],"mappings":"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"}